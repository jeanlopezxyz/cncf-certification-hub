---
import Layout from '../layouts/Layout.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import CNCFArchitectureDiagram from '../components/architecture/CNCFArchitectureDiagram';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title="CNCF Architecture Diagram" lang={lang} showSidebar={true}>
  <div class="w-full px-4 sm:px-6 lg:px-8 xl:px-12 2xl:px-20 3xl:px-32 py-6 sm:py-8">
    <!-- Hero Section -->
    <div class="relative bg-gradient-to-br from-blue-600 via-indigo-600 to-blue-700 dark:from-[#242145] dark:via-[#1A1735] dark:to-[#130F25] rounded-3xl p-4 sm:p-6 lg:p-8 mb-6 sm:mb-8 text-white shadow-2xl overflow-hidden">
      <!-- Background pattern -->
      <div class="absolute inset-0 opacity-10">
        <div
          class="absolute inset-0"
          style={`background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.4"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');`}
        />
      </div>

      <div class="relative text-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
          CNCF Technology Stack
        </h1>
        <p class="text-lg sm:text-xl text-blue-100 mb-6 max-w-3xl mx-auto">
          Interactive overview of Cloud Native technologies organized by layers
        </p>
        <div class="flex flex-wrap justify-center gap-3 text-sm">
          <span class="px-3 py-1 bg-blue-800/50 rounded-full border border-blue-400/30">15 Certifications</span>
          <span class="px-3 py-1 bg-blue-800/50 rounded-full border border-blue-400/30">50+ Technologies</span>
          <span class="px-3 py-1 bg-blue-800/50 rounded-full border border-blue-400/30">Interactive Diagram</span>
        </div>
      </div>
    </div>

    <!-- Architecture Diagram -->
    <CNCFArchitectureDiagram client:visible lang={lang} />
  </div>
</Layout>